README

As of March 4, 2015


1) To compile the needed files for running MLR-CAw, run Make
2) To cluster a file using MLR-CAw, run the shell script "mlrcaw.sh" (NOTE: WE NEED TO CHANGE THE CURRENT mmlrcaw.sh TO MAKE IT CONSISTENT WITH THE CLEANED REPO (change the directory names!))
3) To score the output of MLR-CAw (F-score under 4 scenarios), run the shell script "fourscenarios.sh" in the folder "scoring"


I. MLR-CAw 

MLR-CAw is composed of the following components: 

FSWeighting
--this adds the weighting to an input graph. Run this before the actual mlrmcl.
--threshold: default is 0.2
--input: the uncleaned network file
		--sample input to this is biogrid.in
--output: this will give 2 files:
	1) a resulting network file with weights (usually named with "t<somevalue>" at the end, see Part II Naming Conventions)
	2) another network file formatted for MLRMCL (usually named with "mt<somevalue>" at the end, see Part II Naming Conventions)


MLRMCL
--the .exe is provided, not the .cpp file! (if you want to rebuild/recompile mlrmcl, it needs libraries in the 3.package folder. Check out the documentations there to recompile it).
--for MLR-CAw, it's enough to be able to run the .exe :)
--input: the output file #2 from FSWeighting (usually named with "mt<somevalue>" at the end, see Part II Naming Conventions)
--output: a file where each line indicates the cluster number that the nth line/protein belongs to (usually named with "ct<somevalue>" at the end, see Part II Naming Conventions)


CAw
--run this with the formatted output of MLRMCL
--alpha: default is 1.0
--gamma: default is 0.75
--inputs to this are: 
		1) the network file with weights (output file #1 from FSWeighting)
		2) the clustering file resulting from MLRMCL
--output: a file where each line corresponds to a cluster number. On each line is a list of the proteins that 
belong to this cluster. Proteins are indicated with a number/id based on the file BioGRID_AGaser_graph_mapping



II. MLR-CAw File Outputs Naming Conventions

Each file begins with a "b" or a "d", depending if the clustering was on BioGRID or DIP.

t indicates a threshold value (for FSWeighting) immediately after it
a indicates an alpha value (for CAw) immediately after it
g indicates a gamma value (for CAw) immediately after it 


Example:
One run of clustering the BioGRID file will result in the ff. files:
	bt<value> : the resulting network file with weights (output of FSWeighting)
	bmt<value> : the network file formatted for MLRMCL. This is also an "output" of FSWeighting and is used as input to MLRMCL
	bct<value>: the clusterings resulting from MLRMCL. This is the output file of MLRMCL
	bpt<value>a<value>g<value>: the result from CAw with threshold, alpha, and gamma values indicated.
	bsct<value>a<value>g<value>: the CAw result with computed FScores and matched clusters


III. Scoring Package

A. Four Scenarios
--To do four scenarios, run the script "fourscenarios.sh"
--This calculates the FScore under four scenarios:
	
	Scenario A: Include NAN clusters in calculation, Use a tailored version of CYC (eliminates proteins not in biogrid/dip from CYC)

	Scenario B: Exclude NAN clusters in calculation, Use a tailored version of CYC
	
	Scenario C: Include NAN clusters in calculation, Use complete CYC

	Scenario D: Exclude NAN clusters in calculation, Use complete CYC

--In "fourscenarios.sh":
	--FScoring gets the maximum FScore of each cluster resulting from CAw, and gives the average FScore at the end, EXCLUDING NAN CLUSTERS
	--FSCoringInc does the same, except it INCLUDES NAN CLUSTERS
	--Both can be called individually outside the shell script (if you just want one kind of result, not the four scenarios)
	--Inputs to both are: 
		1) the output file from MLRCAw
		2) the mapping of the proteins to their ids (BioGRID_AGAser etc etc)
		3) the version of CYC you want to use (or basically any listing of complexes and their proteins based on experimental data)





IV. Formatting for Cytoscape/Gephi:
--To convert the CAw result to a format readable by Cytoscape/Gephi, run CytoConverter (this is still raw)
--Naming convention used here is the same, except resulting file begins w/ "v" (visualization)